<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
  <div class="container">
    <img  class="logo" src="assets/img/logo.jpeg" alt="">
    <h1 class="title"> &nbsp; Welcome {{ user }} </h1>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" [routerLink]="['/admin']" routerLinkActive="router-link-active">Home
          </a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" [routerLink]="['/about']" routerLinkActive="router-link-active" >About</a>
        </li>
        <li class="nav-item">
          <button (click)="logout()"> Logout </button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<br/>

<div class="container-fluid">
  <table class="table table-hover text-centered table-sm" *ngIf="personList && personList.length >0">
                  <thead class="thead-dark">
                  <tr>
                          <th scope="col">Name</th>
                          <th scope="col">Email</th>
                          <th scope="col">Gender</th>
                          <th scope="col">DOB</th>
                          <th scope="col">City</th>
                          <th scope="col">Actions</th>
                  </tr>
                  </thead>
          <tr *ngFor="let person of personList;" align="left">
                  <td>{{ person.name }}</td>
                  <td>{{ person.email }}</td>
                  <td>{{ person.gender }}</td>
                  <td>{{ person.dob }}</td>
                  <td>{{ person.city }}</td>
                  <td><button (click)="delete(person.email)">DELETE</button></td>
                  <td><button (click)="readForUpdate(person.email)">UPDATE</button></td>
          </tr>
  </table>
</div>


<mat-sidenav-container>
  <mat-sidenav-content>
    <form [formGroup]="myForm" (ngSubmit)="update(person)" novalidate *ngFor="let person of onePerson;">
      <h1>  Update here..  </h1>

      <!-- Name -->
      <mat-form-field class="example-full-width">
        <input matInput [(ngModel)]='person.name' formControlName="name">
      </mat-form-field>

      <!-- Email -->
      <mat-form-field class="example-full-width">
        <input matInput [(ngModel)]='person.email' formControlName="email" readonly>
      </mat-form-field>

        <!-- Password -->
        <mat-form-field class="example-full-width">
          <input type="password" matInput [(ngModel)]='person.password' formControlName="password" readonly>
        </mat-form-field>

      <!-- Gender -->
      <div class="misc-bottom-padding">
        <mat-label>Gender:</mat-label>
        <mat-radio-group aria-label="Select an option" formControlName="gender" [(ngModel)]='person.gender'>
          <mat-radio-button value="Male">Male</mat-radio-button>
          <mat-radio-button value="Female">Female</mat-radio-button>
        </mat-radio-group>
      </div>

      <!-- Date picker -->
      <mat-form-field>
        <input matInput readonly [matDatepicker]="picker" [(ngModel)]='person.dob' formControlName="dob"
          (dateChange)="date($event)">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <!-- City -->
      <mat-form-field>
        <mat-label>City</mat-label>
        <mat-select formControlName="city" [(ngModel)]='person.city'>
          <mat-option [value]="cityArray" *ngFor="let cityArray of cityArray">{{cityArray}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Submit -->
      <div class="button-wrapper">
        <button mat-flat-button color="primary">Update Now</button>
      </div>

    </form>
  </mat-sidenav-content>
</mat-sidenav-container>
